local a,b=...local c=HeroDBC.DBC;local d=HeroLib;local e=HeroCache;local f=d.Unit;local g=f.Player;local h=f.Target;local i=f.Pet;local j=d.Spell;local k=d.Item;local l=HeroRotation;local m=l.Cast;local n=l.CDsON;local o=l.AoEON;local p=HeroRotationCharDB.Toggles[4]local q=HeroRotationCharDB.Toggles[5]local r=HeroRotationCharDB.Toggles[6]local s=HeroRotationCharDB.Toggles[12]local t=HeroRotationCharDB.Toggles[13]local u=HeroRotationCharDB.Toggles[14]local v=HeroRotationCharDB.Toggles[15]local w=HeroRotationCharDB.Toggles[16]local x=HeroRotationCharDB.Toggles[80]local y=HeroRotationCharDB.Toggles[81]local z=j.DeathKnight.Blood;local A=k.DeathKnight.Blood;local B={}local C;local D;local E;local F;local G;local H=d.GhoulTable;local I;local J;local K=0;local L=999999;local M=0;local N=g:CovenantID()d:RegisterForEvent(function()N=g:CovenantID()end,"COVENANT_CHOSEN")local O=l.Commons.Everyone;local P={General=l.GUISettings.General,Commons=l.GUISettings.APL.DeathKnight.Commons,Blood=l.GUISettings.APL.DeathKnight.Blood}local Q={{z.Asphyxiate,"Cast Asphyxiate (Interrupt)",function()return true end}}local R=0;local S=0;d:RegisterForEvent(function()equip=g:GetEquipment()trinket1=k(0)trinket2=k(0)if equip[13]then trinket1=k(equip[13])end;if equip[14]then trinket2=k(equip[14])end;SuperstrainEquipped=g:HasLegendaryEquipped(30)PhearomonesEquipped=g:HasLegendaryEquipped(31)DeadliestCoilEquipped=g:HasLegendaryEquipped(45)end,"PLAYER_EQUIPMENT_CHANGED")local T={5,8,10,30,40,100}local U={}local function V()for _,W in ipairs(T)do if W==8 or 5 then U[W]=h:IsInMeleeRange(W)end;U[W]=h:IsInRange(W)end end;local function X(Y)if Y then return 1 else return 0 end end;local function Z(Y)return Y~=0 end;local function a0(a1)local a2=0;for _,a3 in pairs(a1)do if not a3:DebuffUp(z.BloodPlagueDebuff)then a2=a2+1 end end;return a2 end;local function a4()if O.TargetIsValid()then if z.Fleshcraft:IsCastable()and p then if m(z.Fleshcraft,nil,nil)then R=324631;return"fleshcraft precombat 1"end end;if z.DeathsCaress:IsReady()and not h:IsInMeleeRange(5)then if m(z.DeathsCaress,nil,nil,not h:IsSpellInRange(z.DeathsCaress))then R=195292;return"deaths_caress precombat 2"end end;if z.Marrowrend:IsReady()and h:IsInMeleeRange(5)then if m(z.Marrowrend)then R=195182;return"marrowrend precombat 4"end end;if z.BloodBoil:IsCastable()and h:IsInMeleeRange(10)then if m(z.BloodBoil)then R=50842;return"blood_boil precombat 6"end end end end;local function a5()if z.AntiMagicShell:IsReady()and K>0 and g:HealthPercentage()<=P.Commons.AntiMagicShellHP then if m(z.AntiMagicShell,nil,nil)then R=48707;return"AntiMagic Shell defensives 18"end end;if z.RuneTap:IsReady()and D and g:HealthPercentage()<=P.Blood.RuneTapThreshold and g:Rune()>=3 and z.RuneTap:Charges()>=1 and g:BuffDown(z.RuneTapBuff)then if m(z.RuneTap,nil)then R=194679;return"rune_tap defensives 2"end end;if O.ActiveMitigationNeeded()and z.Marrowrend:TimeSinceLastCast()>2.5 and z.DeathStrike:TimeSinceLastCast()>2.5 then if z.DeathStrike:IsReady()and not J and g:BuffStack(z.BoneShieldBuff)>7 then if m(z.DeathStrike,nil,nil,not h:IsSpellInRange(z.DeathStrike))then R=49998;return"death_strike defensives 4"end end;if z.Marrowrend:IsReady()then if m(z.Marrowrend,nil,nil,not h:IsSpellInRange(z.Marrowrend))then R=195182;return"marrowrend defensives 6"end end;if z.Tombstone:IsReady()and g:BuffStack(z.BoneShieldBuff)>=7 then if m(z.Tombstone,nil)then R=219808;return"tombstone defensives 8"end end;if z.DeathStrike:IsReady()and not J then if m(z.DeathStrike,nil,nil,not h:IsSpellInRange(z.DeathStrike))then R=49998;return"death_strike defensives 10"end end end;if z.Marrowrend:IsReady()and(g:BuffRemains(z.BoneShieldBuff)<=6 or h:TimeToDie()<5 and g:BuffRemains(z.BoneShieldBuff)<10 and F==1)then if m(z.Marrowrend,nil,nil,not h:IsSpellInRange(z.Marrowrend))then R=195182;return"marrowrend defensives 12"end end;if z.VampiricBlood:IsCastable()and D and g:HealthPercentage()<=P.Blood.VampiricBloodThreshold and g:BuffDown(z.IceboundFortitudeBuff)then if m(z.VampiricBlood,nil)then R=55233;return"vampiric_blood defensives 14"end end;if z.Lichborne:IsReady()and g:HealthPercentage()<=P.Commons.LichborneHP then if m(z.Lichborne,nil,nil)then R=49039;return"Lichborne defensives 18"end end;if z.DeathPact:IsAvailable()and z.DeathPact:IsReady()and g:HealthPercentage()<=P.Commons.DeathPactHP then if m(z.DeathPact,nil,nil)then R=48743;return"DeathPact defensives 18"end end;if z.IceboundFortitude:IsCastable()and D and g:HealthPercentage()<=P.Blood.IceboundFortitudeThreshold and g:BuffDown(z.VampiricBloodBuff)then if m(z.IceboundFortitude,nil)then R=48792;return"icebound_fortitude defensives 16"end end;if z.DeathStrike:IsReady()and not J and g:HealthPercentage()<=50+(g:RunicPower()>90 and 20 or 0)and not g:HealingAbsorbed()then if m(z.DeathStrike,nil,nil,not h:IsSpellInRange(z.DeathStrike))then R=49998;return"death_strike defensives 18"end end end;local function a6()if z.BloodTap:IsCastable()and(g:Rune()<=2 and g:RuneTimeToX(4)>g:GCD()and z.BloodTap:ChargesFractional()>=1.8)then if m(z.BloodTap)then R=221699;return"blood_tap standard 2"end end;if z.DancingRuneWeapon:IsCastable()and n()and(not z.Blooddrinker:IsAvailable()or not z.Blooddrinker:CooldownUp())then if m(z.DancingRuneWeapon,nil)then R=49028;return"dancing_rune_weapon standard 4"end end;if z.Marrowrend:IsReady()and((N~=4 or g:BuffUp(z.AbominationLimbBuff))and(g:BuffRemains(z.BoneShieldBuff)<=g:RuneTimeToX(3)or g:BuffRemains(z.BoneShieldBuff)<=g:GCD()+X(z.Blooddrinker:CooldownUp())*X(z.Blooddrinker:IsAvailable())*2 or g:BuffStack(z.BoneShieldBuff)<3)and g:RunicPowerDeficit()>=20)then if m(z.Marrowrend,nil,nil,not h:IsSpellInRange(z.Marrowrend))then R=195182;return"marrowrend standard 8"end end;if z.DeathStrike:IsReady()and not J and not I and g:RunicPowerDeficit()<=70 then if m(z.DeathStrike,nil,nil,not h:IsSpellInRange(z.DeathStrike))then R=49998;return"death_strike standard 10"end end;if z.Marrowrend:IsReady()and(g:BuffStack(z.BoneShieldBuff)<6 and g:RunicPowerDeficit()>=15 and(N~=3 or g:BuffRemains(z.DeathsDueBuff)>5))then if m(z.Marrowrend,nil,nil,not h:IsSpellInRange(z.Marrowrend))then R=195182;return"marrowrend standard 12"end end;if z.HeartStrike:IsReady()and(not z.Blooddrinker:IsAvailable()and g:BuffRemains(z.DeathAndDecayBuff)<5 and g:RunicPowerDeficit()<=15+X(g:BuffUp(z.DancingRuneWeaponBuff))*5+F*X(z.Heartbreaker:IsAvailable())*2)then if m(z.HeartStrike,nil,nil,not h:IsSpellInRange(z.HeartStrike))then R=206930;return"heart_strike standard 14"end end;if z.BloodBoil:IsCastable()and(z.BloodBoil:ChargesFractional()>=1.8 and(g:BuffStack(z.HemostasisBuff)<=5-EnemiesCount10y or EnemiesCount10y>2))then if m(z.BloodBoil,nil,nil,not h:IsInMeleeRange(10))then R=50842;return"blood_boil standard 16"end end;if z.DeathAndDecay:IsReady()and(g:BuffUp(z.CrimsonScourgeBuff)and z.RelishinBlood:IsAvailable()and g:RunicPowerDeficit()>10)then if m(z.DeathAndDecay,nil,nil,not h:IsInRange(30))then R=43265;return"death_and_decay standard 18"end end;if z.Bonestorm:IsReady()and not J and(g:RunicPower()>=P.Blood.BonestormPower and g:BuffDown(z.DancingRuneWeaponBuff))then if m(z.Bonestorm,nil,nil,not h:IsInRange(8))then R=194844;return"bonestorm standard 20"end end;if z.DeathStrike:IsReady()and not J and not I and(g:RunicPowerDeficit()<=15+X(g:BuffUp(z.DancingRuneWeaponBuff))*5+F*X(z.Heartbreaker:IsAvailable())*2 or h:TimeToDie()<10)then if m(z.DeathStrike,nil,nil,not h:IsSpellInRange(z.DeathStrike))then R=49998;return"death_strike standard 22"end end;if z.DeathAndDecay:IsReady()and F>=3 then if m(z.DeathAndDecay,nil,nil,not h:IsInRange(30))then R=43265;return"death_and_decay standard 24"end end;if z.HeartStrike:IsReady()and(g:BuffUp(z.DancingRuneWeaponBuff)or g:RuneTimeToX(4)<g:GCD())then if m(z.HeartStrike,nil,nil,not h:IsSpellInRange(z.HeartStrike))then R=206930;return"heart_strike standard 26"end end;if z.BloodBoil:IsCastable()and g:BuffUp(z.DancingRuneWeaponBuff)then if m(z.BloodBoil,nil,nil,not h:IsInMeleeRange(10))then R=50842;return"blood_boil standard 28"end end;if z.BloodTap:IsCastable()and g:RuneTimeToX(3)>g:GCD()then if m(z.BloodTap)then R=221699;return"blood_tap standard 30"end end;if z.DeathAndDecay:IsReady()and(g:BuffUp(z.CrimsonScourgeBuff)or z.RapidDecomposition:IsAvailable()or F>=2)then if m(z.DeathAndDecay,nil,nil,not h:IsInRange(30))then R=43265;return"death_and_decay standard 32"end end;if z.Consumption:IsCastable()then if m(z.Consumption,nil,nil,not h:IsSpellInRange(z.Consumption))then R=274156;return"consumption standard 34"end end;if z.BloodBoil:IsCastable()and z.BloodBoil:ChargesFractional()>=1.1 then if m(z.BloodBoil,nil,nil,not h:IsInMeleeRange(10))then R=50842;return"blood_boil standard 36"end end;if z.HeartStrike:IsReady()and(g:Rune()>1 and(g:RuneTimeToX(3)<g:GCD()or g:BuffStack(z.BoneShieldBuff)>7))then if m(z.HeartStrike,nil,nil,not h:IsSpellInRange(z.HeartStrike))then R=206930;return"heart_strike standard 38"end end;if z.ArcaneTorrent:IsCastable()and P.Commons.Enabled.Racials and n()and g:RunicPowerDeficit()>20 then if m(z.ArcaneTorrent,nil,nil,not h:IsInMeleeRange(8))then R=155145;return"arcane_torrent standard 40"end end end;local function a7()if z.DeathStrike:IsReady()and not J and not I and(N==3 and g:BuffRemains(z.DeathsDueBuff)>6 and g:RunicPower()>70)then if m(z.DeathStrike,nil,nil,not h:IsSpellInRange(z.DeathStrike))then R=49998;return"death_strike covenants 2"end end;if z.HeartStrike:IsReady()and(N==3 and g:BuffUp(z.DeathAndDecayBuff)and((g:BuffUp(z.DeathsDueBuff)or g:BuffUp(z.DancingRuneWeaponBuff))and g:BuffRemains(z.DeathsDueBuff)))then if m(z.HeartStrike,nil,nil,not h:IsSpellInRange(z.HeartStrike))then R=206930;return"heart_strike covenants 4"end end;if z.DeathsDue:IsReady()and p and(g:BuffDown(z.DeathsDueBuff)or g:BuffRemains(z.DeathsDueBuff)<4 or g:BuffUp(z.CrimsonScourgeBuff))then if m(z.DeathsDue,nil,nil,not h:IsSpellInRange(z.DeathsDue))then R=324128;return"deaths_due covenants 6"end end;if H.active()and z.SacrificialPact:IsReady()and((N~=3 or g:BuffRemains(z.DeathsDueBuff)>6)and g:BuffDown(z.DancingRuneWeaponBuff)and(H.remains()<10 or d.FilteredFightRemains(Enemies10y,"<",g:GCD())))then if m(z.SacrificialPact,nil)then R=237574;return"sacrificial_pact covenants 8"end end;if z.DeathStrike:IsReady()and not J and not I and(N==2 and g:RunicPower()>70 and z.SwarmingMist:CooldownRemains()<3)then if m(z.DeathStrike,nil,nil,not h:IsSpellInRange(z.DeathStrike))then R=49998;return"death_strike covenants 10"end end;if z.SwarmingMist:IsReady()and p and g:BuffDown(z.DancingRuneWeaponBuff)then if m(z.SwarmingMist,nil,nil)then R=311648;return"swarming_mist covenants 12"end end;if z.Marrowrend:IsReady()and(N==4 and g:BuffDown(z.BoneShieldBuff))then if m(z.Marrowrend,nil,nil,not h:IsSpellInRange(z.Marrowrend))then R=195182;return"marrowrend covenants 14"end end;if z.AbominationLimb:IsCastable()and p and g:BuffDown(z.DancingRuneWeaponBuff)then if m(z.AbominationLimb,nil,nil,not h:IsInRange(8))then R=315443;return"abomination_limb covenants 16"end end;if z.ShackleTheUnworthy:IsCastable()and p and(z.DancingRuneWeapon:CooldownRemains()<3 or g:BuffDown(z.DancingRuneWeaponBuff))then if m(z.ShackleTheUnworthy,nil,nil,not h:IsSpellInRange(z.ShackleTheUnworthy))then R=312202;return"shackle_the_unworthy covenants 18"end end;if z.Fleshcraft:IsCastable()and p and(z.PustuleEruption:SoulbindEnabled()or z.VolatileSolvent:SoulbindEnabled())then if m(z.Fleshcraft,nil,nil)then R=324631;return"fleshcraft covenants 20"end end end;local function a8()r=HeroRotationCharDB.Toggles[6]p=HeroRotationCharDB.Toggles[4]q=HeroRotationCharDB.Toggles[5]s=HeroRotationCharDB.Toggles[12]t=HeroRotationCharDB.Toggles[13]u=HeroRotationCharDB.Toggles[14]v=HeroRotationCharDB.Toggles[15]w=HeroRotationCharDB.Toggles[16]x=HeroRotationCharDB.Toggles[80]y=HeroRotationCharDB.Toggles[81]I=false;J=false;if z.Bonestorm:IsAvailable()and n()and z.Bonestorm:CooldownRemains()<=0 and z.Bonestorm:IsCastable()then I=true end;if GetTime()-L>=5 then K=0 end end;local function a9(self,aa)local ab,ac,ad,ae,af,ag,ah,ai,aj,ak,al,am,an,ao,M,ap,aq,ar,as,at,au,av,aw,ax=CombatLogGetCurrentEventInfo()if ai==UnitGUID("player")then if string.match(ac,"_DAMAGE")then if ac~="SWING_DAMAGE"and ao~=1 then L=GetTime()K=M end end end end;local ay=CreateFrame("Frame")ay:RegisterEvent("COMBAT_LOG_EVENT_UNFILTERED")ay:SetScript("OnEvent",a9)local function az()Enemies10y=g:GetEnemiesInRange(10)if o()then E=g:GetEnemiesInMeleeRange(8)F=#E;EnemiesCount10y=#Enemies10y else F=1;EnemiesCount10y=1 end;G=a0(Enemies10y)TopTrinketID,_=GetInventoryItemID("player",13)BotTrinketID,_=GetInventoryItemID("player",14)ActiveMitigationNeeded=g:ActiveMitigationNeeded()D=g:IsTankingAoE(8)or g:IsTanking(h)if not BotOn then S=0;R=0 end;if S>0 then S=0 end;if R>0 then R=0 end;C=a8()if l.GUISettings.General.OpenerReset>0 and not HeroRotationCharDB.Toggles[6]then starttime=GetTime()endtime=starttime+l.GUISettings.General.OpenerReset elseif l.GUISettings.General.OpenerReset>0 and endtime~=nil and GetTime()>endtime and HeroRotationCharDB.Toggles[6]then HeroRotationCharDB.Toggles[6]=not HeroRotationCharDB.Toggles[6]l.ToggleIconFrame:UpdateButtonText(6)l.Print("Opener is now "..(HeroRotationCharDB.Toggles[6]and"|cff00ff00enabled|r."or"|cffff0000disabled|r."))end;if g:IsChanneling(j(324631))then if l.CastAnnotated(z.Pool,false,"WAIT")then R=99999;return"Pool During Blooddrinker"end end;if not g:AffectingCombat()and O.TargetIsValid()and r then local C=a4()if C then return C end end;if not UnitIsEnemy("player","mouseover")and UnitIsDead("mouseover")then if z.RaiseAlly:IsCastable()and g:RunicPower()>=30 then if m(z.RaiseAlly,nil)then S=161999;return"RaiseAlly MO"end elseif z.RaiseAlly:CooldownRemains(BypassRecovery)<=0 and g:RunicPower()<30 then J=true end end;if w and z.Asphyxiate:IsUsableP()and z.Asphyxiate:CooldownRemains(BypassRecovery)<=0 then if l.Cast(z.Asphyxiate,nil,nil,nil)then if f("mouseover"):GUID()~=nil and f("mouseover"):IsSpellInRange(z.Asphyxiate)then S=1221562;return"queue Asphyxiate MO"else R=221562;return"queue Asphyxiate"end end elseif(not z.Asphyxiate:IsUsableP()or z.Asphyxiate:CooldownRemains()>0)and w then HeroRotationCharDB.Toggles[16]=not HeroRotationCharDB.Toggles[16]l.Print("Asphyxiate Queue is now "..(HeroRotationCharDB.Toggles[16]and"|cff00ff00on|r."or"|cffff0000off|r."))end;if u and z.DeathGrip:IsUsableP()and z.DeathGrip:CooldownRemains(BypassRecovery)<=0 then if l.Cast(z.DeathGrip,nil,nil,nil)then if f("mouseover"):GUID()~=nil and f("mouseover"):IsSpellInRange(z.DeathGrip)then S=149576;return"queue DeathGrip MO"else R=49576;return"queue DeathGrip"end end elseif(not z.DeathGrip:IsUsableP()or z.DeathGrip:CooldownRemains()>0)and u then HeroRotationCharDB.Toggles[14]=not HeroRotationCharDB.Toggles[14]l.Print("DeathGrip Queue is now "..(HeroRotationCharDB.Toggles[14]and"|cff00ff00on|r."or"|cffff0000off|r."))end;if x and z.GorefiendsGrasp:IsUsableP()and z.GorefiendsGrasp:CooldownRemains(BypassRecovery)<=0 and g:AffectingCombat()then if l.Cast(z.GorefiendsGrasp,nil,nil,nil)then R=108199;return"queue Gorefiends Grasp"end elseif(not z.GorefiendsGrasp:IsUsableP()or z.GorefiendsGrasp:CooldownRemains()>0 or not g:AffectingCombat())and x then HeroRotationCharDB.Toggles[80]=not HeroRotationCharDB.Toggles[80]l.Print("Gorefiend's Grasp Queue is now "..(HeroRotationCharDB.Toggles[80]and"|cff00ff00on|r."or"|cffff0000off|r."))end;if t and z.AntiMagicZone:IsUsableP()and z.AntiMagicZone:CooldownRemains(BypassRecovery)<=0 and g:AffectingCombat()then if l.Cast(z.AntiMagicZone,nil,nil,nil)then R=51052;return"queue Anti Magic Zone"end elseif(not z.AntiMagicZone:IsUsableP()or z.AntiMagicZone:CooldownRemains()>0 or not g:AffectingCombat())and t then HeroRotationCharDB.Toggles[13]=not HeroRotationCharDB.Toggles[13]l.Print("Anti-Magic Zone Queue is now "..(HeroRotationCharDB.Toggles[13]and"|cff00ff00on|r."or"|cffff0000off|r."))end;if y and z.ControlUndead:IsUsableP()and z.ControlUndead:CooldownRemains(BypassRecovery)<=0 then if l.Cast(z.ControlUndead,nil,nil,nil)then if f("mouseover"):GUID()~=nil and f("mouseover"):IsInRange(30)then S=1111673;return"queue ControlUndead MO"else R=111673;return"queue ControlUndead"end end elseif(not z.ControlUndead:IsUsableP()or z.ControlUndead:CooldownRemains()>0)and y then HeroRotationCharDB.Toggles[81]=not HeroRotationCharDB.Toggles[81]l.Print("Control Undead Queue is now "..(HeroRotationCharDB.Toggles[81]and"|cff00ff00on|r."or"|cffff0000off|r."))end;if O.TargetIsValid()and g:AffectingCombat()then if P.Commons.UseDefensives then local C=a5()if C then return C end end;if g:IsChanneling(z.Blooddrinker)and g:BuffUp(z.BoneShieldBuff)and G==0 and not g:ShouldStopCasting()and g:CastRemains()>0.2 then if l.CastAnnotated(z.Pool,false,"WAIT")then R=99999;return"Pool During Blooddrinker"end end;if n()then if z.BloodFury:IsCastable()and P.Commons.Enabled.Racials and(z.DancingRuneWeapon:CooldownUp()and(not z.Blooddrinker:IsReady()or not z.Blooddrinker:IsAvailable()))then if m(z.BloodFury,nil)then R=20572;return"blood_fury main 2"end end;if z.Berserking:IsCastable()and P.Commons.Enabled.Racials then if m(z.Berserking,nil)then R=26297;return"berserking main 4"end end;if z.ArcanePulse:IsCastable()and P.Commons.Enabled.Racials and(F>=2 or g:Rune()<1 and g:RunicPowerDeficit()>60)then if m(z.ArcanePulse,nil,nil,not h:IsInRange(8))then R=260364;return"arcane_pulse main 6"end end;if z.LightsJudgment:IsCastable()and P.Commons.Enabled.Racials and g:BuffUp(z.UnholyStrengthBuff)then if m(z.LightsJudgment,nil,nil,not h:IsSpellInRange(z.LightsJudgment))then R=255647;return"lights_judgment main 8"end end;if z.AncestralCall:IsCastable()and P.Commons.Enabled.Racials then if m(z.AncestralCall,nil)then R=274738;return"ancestral_call main 10"end end;if z.Fireblood:IsCastable()and P.Commons.Enabled.Racials then if m(z.Fireblood,nil)then R=265221;return"fireblood main 12"end end;if z.BagofTricks:IsCastable()and P.Commons.Enabled.Racials then if m(z.BagofTricks,nil,nil,not h:IsSpellInRange(z.BagofTricks))then R=312411;return"bag_of_tricks main 14"end end end;if A.PotionofPhantomFire:IsReady()and P.Commons.Enabled.Potions and g:BuffUp(z.DancingRuneWeaponBuff)then if m(A.PotionofPhantomFire,nil,nil)then R=37;return"potion main 16"end end;if P.Commons.Enabled.Trinkets and n()then local aA=g:GetUseableTrinkets(B)if aA then if m(aA,nil,nil)then if aA:ID()==TopTrinketID then R=24;return"top trinket 1"elseif aA:ID()==BotTrinketID then R=30;return"top trinket 2"end end end end;if z.Blooddrinker:IsReady()and(g:BuffDown(z.DancingRuneWeaponBuff)and(N~=3 or g:BuffRemains(z.DeathsDueBuff)>7))then if m(z.Blooddrinker,nil,nil,not h:IsSpellInRange(z.Blooddrinker))then R=206931;return"blooddrinker main 20"end end;if z.BloodBoil:IsCastable()and(z.BloodBoil:Charges()>=2 and(N==1 or g:BuffUp(z.DancingRuneWeaponBuff)))then if m(z.BloodBoil,nil,nil,not h:IsInMeleeRange(10))then R=50842;return"blood_boil main 22"end end;if n()and z.RaiseDead:IsCastable()then if m(z.RaiseDead,nil,nil)then R=46585;return"raise_dead main 24"end end;if z.DeathStrike:IsReady()and not I and not J and d.FilteredFightRemains(Enemies10y,"<",3)then if m(z.DeathStrike,nil,nil,not h:IsSpellInRange(z.DeathStrike))then R=49998;return"death_strike main 26"end end;if true then local C=a7()if C then return C end end;if true then local C=a6()if C then return C end end;if l.CastAnnotated(z.Pool,false,"WAIT")then return"Wait/Pool Resources"end end end;local function aB()end;function ReturnSpell1()if R==0 then return 0 else return R end end;function ReturnSpellMO1()if S==0 then return 0 else return S end end;l.SetAPL(250,az,aB)