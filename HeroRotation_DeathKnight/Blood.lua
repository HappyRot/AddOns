local a,b=...local c=HeroDBC.DBC;local d=HeroLib;local e=HeroCache;local f=d.Unit;local g=f.Player;local h=f.Target;local i=f.Pet;local j=d.Spell;local k=d.Item;local l=HeroRotation;local m=l.Cast;local n=l.CDsON;local o=l.AoEON;local p=HeroRotationCharDB.Toggles[4]local q=HeroRotationCharDB.Toggles[5]local r=HeroRotationCharDB.Toggles[6]local s=HeroRotationCharDB.Toggles[12]local t=HeroRotationCharDB.Toggles[13]local u=HeroRotationCharDB.Toggles[14]local v=HeroRotationCharDB.Toggles[15]local w=HeroRotationCharDB.Toggles[16]local x=HeroRotationCharDB.Toggles[80]local y=j.DeathKnight.Blood;local z=k.DeathKnight.Blood;local A={}local B;local C;local D;local E;local F;local G=d.GhoulTable;local H;local I;local J=0;local K=999999;local L=0;local M=g:CovenantID()d:RegisterForEvent(function()M=g:CovenantID()end,"COVENANT_CHOSEN")local N=l.Commons.Everyone;local O={General=l.GUISettings.General,Commons=l.GUISettings.APL.DeathKnight.Commons,Blood=l.GUISettings.APL.DeathKnight.Blood}local P={{y.Asphyxiate,"Cast Asphyxiate (Interrupt)",function()return true end}}local Q=0;local R=0;d:RegisterForEvent(function()equip=g:GetEquipment()trinket1=k(0)trinket2=k(0)if equip[13]then trinket1=k(equip[13])end;if equip[14]then trinket2=k(equip[14])end;SuperstrainEquipped=g:HasLegendaryEquipped(30)PhearomonesEquipped=g:HasLegendaryEquipped(31)DeadliestCoilEquipped=g:HasLegendaryEquipped(45)end,"PLAYER_EQUIPMENT_CHANGED")local S={5,8,10,30,40,100}local T={}local function U()for _,V in ipairs(S)do if V==8 or 5 then T[V]=h:IsInMeleeRange(V)end;T[V]=h:IsInRange(V)end end;local function W(X)if X then return 1 else return 0 end end;local function Y(X)return X~=0 end;local function Z(a0)local a1=0;for _,a2 in pairs(a0)do if not a2:DebuffUp(y.BloodPlagueDebuff)then a1=a1+1 end end;return a1 end;local function a3()if N.TargetIsValid()then if y.Fleshcraft:IsCastable()and p then if m(y.Fleshcraft,nil,nil)then Q=324631;return"fleshcraft precombat 1"end end;if y.DeathsCaress:IsReady()and not h:IsInMeleeRange(5)then if m(y.DeathsCaress,nil,nil,not h:IsSpellInRange(y.DeathsCaress))then Q=195292;return"deaths_caress precombat 2"end end;if y.Marrowrend:IsReady()and h:IsInMeleeRange(5)then if m(y.Marrowrend)then Q=195182;return"marrowrend precombat 4"end end;if y.BloodBoil:IsCastable()and h:IsInMeleeRange(10)then if m(y.BloodBoil)then Q=50842;return"blood_boil precombat 6"end end end end;local function a4()if y.AntiMagicShell:IsReady()and J>0 and g:HealthPercentage()<=O.Commons.AntiMagicShellHP then if m(y.AntiMagicShell,nil,nil)then Q=48707;return"AntiMagic Shell defensives 18"end end;if y.RuneTap:IsReady()and C and g:HealthPercentage()<=O.Blood.RuneTapThreshold and g:Rune()>=3 and y.RuneTap:Charges()>=1 and g:BuffDown(y.RuneTapBuff)then if m(y.RuneTap,nil)then Q=194679;return"rune_tap defensives 2"end end;if N.ActiveMitigationNeeded()and y.Marrowrend:TimeSinceLastCast()>2.5 and y.DeathStrike:TimeSinceLastCast()>2.5 then if y.DeathStrike:IsReady()and not I and g:BuffStack(y.BoneShieldBuff)>7 then if m(y.DeathStrike,nil,nil,not h:IsSpellInRange(y.DeathStrike))then Q=49998;return"death_strike defensives 4"end end;if y.Marrowrend:IsReady()then if m(y.Marrowrend,nil,nil,not h:IsSpellInRange(y.Marrowrend))then Q=195182;return"marrowrend defensives 6"end end;if y.Tombstone:IsReady()and g:BuffStack(y.BoneShieldBuff)>=7 then if m(y.Tombstone,nil)then Q=219808;return"tombstone defensives 8"end end;if y.DeathStrike:IsReady()and not I then if m(y.DeathStrike,nil,nil,not h:IsSpellInRange(y.DeathStrike))then Q=49998;return"death_strike defensives 10"end end end;if y.Marrowrend:IsReady()and(g:BuffRemains(y.BoneShieldBuff)<=6 or h:TimeToDie()<5 and g:BuffRemains(y.BoneShieldBuff)<10 and E==1)then if m(y.Marrowrend,nil,nil,not h:IsSpellInRange(y.Marrowrend))then Q=195182;return"marrowrend defensives 12"end end;if y.VampiricBlood:IsCastable()and C and g:HealthPercentage()<=O.Blood.VampiricBloodThreshold and g:BuffDown(y.IceboundFortitudeBuff)then if m(y.VampiricBlood,nil)then Q=55233;return"vampiric_blood defensives 14"end end;if y.Lichborne:IsReady()and g:HealthPercentage()<=O.Commons.LichborneHP then if m(y.Lichborne,nil,nil)then Q=49039;return"Lichborne defensives 18"end end;if y.DeathPact:IsAvailable()and y.DeathPact:IsReady()and g:HealthPercentage()<=O.Commons.DeathPactHP then if m(y.DeathPact,nil,nil)then Q=48743;return"DeathPact defensives 18"end end;if y.IceboundFortitude:IsCastable()and C and g:HealthPercentage()<=O.Blood.IceboundFortitudeThreshold and g:BuffDown(y.VampiricBloodBuff)then if m(y.IceboundFortitude,nil)then Q=48792;return"icebound_fortitude defensives 16"end end;if y.DeathStrike:IsReady()and not I and g:HealthPercentage()<=50+(g:RunicPower()>90 and 20 or 0)and not g:HealingAbsorbed()then if m(y.DeathStrike,nil,nil,not h:IsSpellInRange(y.DeathStrike))then Q=49998;return"death_strike defensives 18"end end end;local function a5()if y.BloodTap:IsCastable()and(g:Rune()<=2 and g:RuneTimeToX(4)>g:GCD()and y.BloodTap:ChargesFractional()>=1.8)then if m(y.BloodTap)then Q=221699;return"blood_tap standard 2"end end;if y.DancingRuneWeapon:IsCastable()and n()and(not y.Blooddrinker:IsAvailable()or not y.Blooddrinker:CooldownUp())then if m(y.DancingRuneWeapon,nil)then Q=49028;return"dancing_rune_weapon standard 4"end end;if y.Marrowrend:IsReady()and((M~=4 or g:BuffUp(y.AbominationLimbBuff))and(g:BuffRemains(y.BoneShieldBuff)<=g:RuneTimeToX(3)or g:BuffRemains(y.BoneShieldBuff)<=g:GCD()+W(y.Blooddrinker:CooldownUp())*W(y.Blooddrinker:IsAvailable())*2 or g:BuffStack(y.BoneShieldBuff)<3)and g:RunicPowerDeficit()>=20)then if m(y.Marrowrend,nil,nil,not h:IsSpellInRange(y.Marrowrend))then Q=195182;return"marrowrend standard 8"end end;if y.DeathStrike:IsReady()and not I and not H and g:RunicPowerDeficit()<=70 then if m(y.DeathStrike,nil,nil,not h:IsSpellInRange(y.DeathStrike))then Q=49998;return"death_strike standard 10"end end;if y.Marrowrend:IsReady()and(g:BuffStack(y.BoneShieldBuff)<6 and g:RunicPowerDeficit()>=15 and(M~=3 or g:BuffRemains(y.DeathsDueBuff)>5))then if m(y.Marrowrend,nil,nil,not h:IsSpellInRange(y.Marrowrend))then Q=195182;return"marrowrend standard 12"end end;if y.HeartStrike:IsReady()and(not y.Blooddrinker:IsAvailable()and g:BuffRemains(y.DeathAndDecayBuff)<5 and g:RunicPowerDeficit()<=15+W(g:BuffUp(y.DancingRuneWeaponBuff))*5+E*W(y.Heartbreaker:IsAvailable())*2)then if m(y.HeartStrike,nil,nil,not h:IsSpellInRange(y.HeartStrike))then Q=206930;return"heart_strike standard 14"end end;if y.BloodBoil:IsCastable()and(y.BloodBoil:ChargesFractional()>=1.8 and(g:BuffStack(y.HemostasisBuff)<=5-EnemiesCount10y or EnemiesCount10y>2))then if m(y.BloodBoil,nil,nil,not h:IsInMeleeRange(10))then Q=50842;return"blood_boil standard 16"end end;if y.DeathAndDecay:IsReady()and(g:BuffUp(y.CrimsonScourgeBuff)and y.RelishinBlood:IsAvailable()and g:RunicPowerDeficit()>10)then if m(y.DeathAndDecay,nil,nil,not h:IsInRange(30))then Q=43265;return"death_and_decay standard 18"end end;if y.Bonestorm:IsReady()and not I and(g:RunicPower()>=O.Blood.BonestormPower and g:BuffDown(y.DancingRuneWeaponBuff))then if m(y.Bonestorm,nil,nil,not h:IsInRange(8))then Q=194844;return"bonestorm standard 20"end end;if y.DeathStrike:IsReady()and not I and not H and(g:RunicPowerDeficit()<=15+W(g:BuffUp(y.DancingRuneWeaponBuff))*5+E*W(y.Heartbreaker:IsAvailable())*2 or h:TimeToDie()<10)then if m(y.DeathStrike,nil,nil,not h:IsSpellInRange(y.DeathStrike))then Q=49998;return"death_strike standard 22"end end;if y.DeathAndDecay:IsReady()and E>=3 then if m(y.DeathAndDecay,nil,nil,not h:IsInRange(30))then Q=43265;return"death_and_decay standard 24"end end;if y.HeartStrike:IsReady()and(g:BuffUp(y.DancingRuneWeaponBuff)or g:RuneTimeToX(4)<g:GCD())then if m(y.HeartStrike,nil,nil,not h:IsSpellInRange(y.HeartStrike))then Q=206930;return"heart_strike standard 26"end end;if y.BloodBoil:IsCastable()and g:BuffUp(y.DancingRuneWeaponBuff)then if m(y.BloodBoil,nil,nil,not h:IsInMeleeRange(10))then Q=50842;return"blood_boil standard 28"end end;if y.BloodTap:IsCastable()and g:RuneTimeToX(3)>g:GCD()then if m(y.BloodTap)then Q=221699;return"blood_tap standard 30"end end;if y.DeathAndDecay:IsReady()and(g:BuffUp(y.CrimsonScourgeBuff)or y.RapidDecomposition:IsAvailable()or E>=2)then if m(y.DeathAndDecay,nil,nil,not h:IsInRange(30))then Q=43265;return"death_and_decay standard 32"end end;if y.Consumption:IsCastable()then if m(y.Consumption,nil,nil,not h:IsSpellInRange(y.Consumption))then Q=274156;return"consumption standard 34"end end;if y.BloodBoil:IsCastable()and y.BloodBoil:ChargesFractional()>=1.1 then if m(y.BloodBoil,nil,nil,not h:IsInMeleeRange(10))then Q=50842;return"blood_boil standard 36"end end;if y.HeartStrike:IsReady()and(g:Rune()>1 and(g:RuneTimeToX(3)<g:GCD()or g:BuffStack(y.BoneShieldBuff)>7))then if m(y.HeartStrike,nil,nil,not h:IsSpellInRange(y.HeartStrike))then Q=206930;return"heart_strike standard 38"end end;if y.ArcaneTorrent:IsCastable()and n()and g:RunicPowerDeficit()>20 then if m(y.ArcaneTorrent,nil,nil,not h:IsInMeleeRange(8))then Q=155145;return"arcane_torrent standard 40"end end end;local function a6()if y.DeathStrike:IsReady()and not I and not H and(M==3 and g:BuffRemains(y.DeathsDueBuff)>6 and g:RunicPower()>70)then if m(y.DeathStrike,nil,nil,not h:IsSpellInRange(y.DeathStrike))then Q=49998;return"death_strike covenants 2"end end;if y.HeartStrike:IsReady()and(M==3 and g:BuffUp(y.DeathAndDecayBuff)and((g:BuffUp(y.DeathsDueBuff)or g:BuffUp(y.DancingRuneWeaponBuff))and g:BuffRemains(y.DeathsDueBuff)))then if m(y.HeartStrike,nil,nil,not h:IsSpellInRange(y.HeartStrike))then Q=206930;return"heart_strike covenants 4"end end;if y.DeathsDue:IsReady()and p and(g:BuffDown(y.DeathsDueBuff)or g:BuffRemains(y.DeathsDueBuff)<4 or g:BuffUp(y.CrimsonScourgeBuff))then if m(y.DeathsDue,nil,nil,not h:IsSpellInRange(y.DeathsDue))then Q=324128;return"deaths_due covenants 6"end end;if G.active()and y.SacrificialPact:IsReady()and((M~=3 or g:BuffRemains(y.DeathsDueBuff)>6)and g:BuffDown(y.DancingRuneWeaponBuff)and(G.remains()<10 or d.FilteredFightRemains(Enemies10y,"<",g:GCD())))then if m(y.SacrificialPact,nil)then Q=237574;return"sacrificial_pact covenants 8"end end;if y.DeathStrike:IsReady()and not I and not H and(M==2 and g:RunicPower()>70 and y.SwarmingMist:CooldownRemains()<3)then if m(y.DeathStrike,nil,nil,not h:IsSpellInRange(y.DeathStrike))then Q=49998;return"death_strike covenants 10"end end;if y.SwarmingMist:IsReady()and p and g:BuffDown(y.DancingRuneWeaponBuff)then if m(y.SwarmingMist,nil,nil)then Q=311648;return"swarming_mist covenants 12"end end;if y.Marrowrend:IsReady()and(M==4 and g:BuffDown(y.BoneShieldBuff))then if m(y.Marrowrend,nil,nil,not h:IsSpellInRange(y.Marrowrend))then Q=195182;return"marrowrend covenants 14"end end;if y.AbominationLimb:IsCastable()and p and g:BuffDown(y.DancingRuneWeaponBuff)then if m(y.AbominationLimb,nil,nil,not h:IsInRange(8))then Q=315443;return"abomination_limb covenants 16"end end;if y.ShackleTheUnworthy:IsCastable()and p and(y.DancingRuneWeapon:CooldownRemains()<3 or g:BuffDown(y.DancingRuneWeaponBuff))then if m(y.ShackleTheUnworthy,nil,nil,not h:IsSpellInRange(y.ShackleTheUnworthy))then Q=312202;return"shackle_the_unworthy covenants 18"end end;if y.Fleshcraft:IsCastable()and p and(y.PustuleEruption:SoulbindEnabled()or y.VolatileSolvent:SoulbindEnabled())then if m(y.Fleshcraft,nil,nil)then Q=324631;return"fleshcraft covenants 20"end end end;local function a7()r=HeroRotationCharDB.Toggles[6]p=HeroRotationCharDB.Toggles[4]q=HeroRotationCharDB.Toggles[5]s=HeroRotationCharDB.Toggles[12]t=HeroRotationCharDB.Toggles[13]u=HeroRotationCharDB.Toggles[14]v=HeroRotationCharDB.Toggles[15]w=HeroRotationCharDB.Toggles[16]x=HeroRotationCharDB.Toggles[80]H=false;I=false;if y.Bonestorm:IsAvailable()and n()and y.Bonestorm:CooldownRemains()<=0 and y.Bonestorm:IsCastable()then H=true end;if GetTime()-K>=5 then J=0 end end;local function a8(self,a9)local aa,ab,ac,ad,ae,af,ag,ah,ai,aj,ak,al,am,an,L,ao,ap,aq,ar,as,at,au,av,aw=CombatLogGetCurrentEventInfo()if ah==UnitGUID("player")then if string.match(ab,"_DAMAGE")then if ab~="SWING_DAMAGE"and an~=1 then K=GetTime()J=L end end end end;local ax=CreateFrame("Frame")ax:RegisterEvent("COMBAT_LOG_EVENT_UNFILTERED")ax:SetScript("OnEvent",a8)local function ay()Enemies10y=g:GetEnemiesInRange(10)if o()then D=g:GetEnemiesInMeleeRange(8)E=#D;EnemiesCount10y=#Enemies10y else E=1;EnemiesCount10y=1 end;F=Z(Enemies10y)TopTrinketID,_=GetInventoryItemID("player",13)BotTrinketID,_=GetInventoryItemID("player",14)ActiveMitigationNeeded=g:ActiveMitigationNeeded()C=g:IsTankingAoE(8)or g:IsTanking(h)if not BotOn then R=0;Q=0 end;if R>0 then R=0 end;if Q>0 then Q=0 end;B=a7()if l.GUISettings.General.OpenerReset>0 and not HeroRotationCharDB.Toggles[6]then starttime=GetTime()endtime=starttime+l.GUISettings.General.OpenerReset elseif l.GUISettings.General.OpenerReset>0 and endtime~=nil and GetTime()>endtime and HeroRotationCharDB.Toggles[6]then HeroRotationCharDB.Toggles[6]=not HeroRotationCharDB.Toggles[6]l.ToggleIconFrame:UpdateButtonText(6)l.Print("Opener is now "..(HeroRotationCharDB.Toggles[6]and"|cff00ff00enabled|r."or"|cffff0000disabled|r."))end;if g:IsChanneling(j(324631))then if l.CastAnnotated(y.Pool,false,"WAIT")then Q=99999;return"Pool During Blooddrinker"end end;if not g:AffectingCombat()and N.TargetIsValid()and r then local B=a3()if B then return B end end;if not UnitIsEnemy("player","mouseover")and UnitIsDead("mouseover")then if y.RaiseAlly:IsCastable()and g:RunicPower()>=30 then if m(y.RaiseAlly,nil)then R=161999;return"RaiseAlly MO"end elseif y.RaiseAlly:CooldownRemains(BypassRecovery)<=0 and g:RunicPower()<30 then I=true end end;if w and y.Asphyxiate:IsUsableP()and y.Asphyxiate:CooldownRemains(BypassRecovery)<=0 then if l.Cast(y.Asphyxiate,nil,nil,nil)then if f("mouseover"):GUID()~=nil and f("mouseover"):IsSpellInRange(y.Asphyxiate)then R=1221562;return"queue Asphyxiate MO"else Q=221562;return"queue Asphyxiate"end end elseif(not y.Asphyxiate:IsUsableP()or y.Asphyxiate:CooldownRemains()>0)and w then HeroRotationCharDB.Toggles[16]=not HeroRotationCharDB.Toggles[16]l.Print("Asphyxiate Queue is now "..(HeroRotationCharDB.Toggles[16]and"|cff00ff00on|r."or"|cffff0000off|r."))end;if u and y.DeathGrip:IsUsableP()and y.DeathGrip:CooldownRemains(BypassRecovery)<=0 then if l.Cast(y.DeathGrip,nil,nil,nil)then if f("mouseover"):GUID()~=nil and f("mouseover"):IsSpellInRange(y.DeathGrip)then R=149576;return"queue DeathGrip MO"else Q=49576;return"queue DeathGrip"end end elseif(not y.DeathGrip:IsUsableP()or y.DeathGrip:CooldownRemains()>0)and u then HeroRotationCharDB.Toggles[14]=not HeroRotationCharDB.Toggles[14]l.Print("DeathGrip Queue is now "..(HeroRotationCharDB.Toggles[14]and"|cff00ff00on|r."or"|cffff0000off|r."))end;if x and y.GorefiendsGrasp:IsUsableP()and y.GorefiendsGrasp:CooldownRemains(BypassRecovery)<=0 and g:AffectingCombat()then if l.Cast(y.GorefiendsGrasp,nil,nil,nil)then Q=108199;return"queue Gorefiends Grasp"end elseif(not y.GorefiendsGrasp:IsUsableP()or y.GorefiendsGrasp:CooldownRemains()>0 or not g:AffectingCombat())and x then HeroRotationCharDB.Toggles[80]=not HeroRotationCharDB.Toggles[80]l.Print("Gorefiend's Grasp Queue is now "..(HeroRotationCharDB.Toggles[80]and"|cff00ff00on|r."or"|cffff0000off|r."))end;if t and y.AntiMagicZone:IsUsableP()and y.AntiMagicZone:CooldownRemains(BypassRecovery)<=0 and g:AffectingCombat()then if l.Cast(y.AntiMagicZone,nil,nil,nil)then Q=51052;return"queue Anti Magic Zone"end elseif(not y.AntiMagicZone:IsUsableP()or y.AntiMagicZone:CooldownRemains()>0 or not g:AffectingCombat())and t then HeroRotationCharDB.Toggles[13]=not HeroRotationCharDB.Toggles[13]l.Print("Anti-Magic Zone Queue is now "..(HeroRotationCharDB.Toggles[13]and"|cff00ff00on|r."or"|cffff0000off|r."))end;if N.TargetIsValid()and g:AffectingCombat()then if O.Commons.UseDefensives then local B=a4()if B then return B end end;if g:IsChanneling(y.Blooddrinker)and g:BuffUp(y.BoneShieldBuff)and F==0 and not g:ShouldStopCasting()and g:CastRemains()>0.2 then if l.CastAnnotated(y.Pool,false,"WAIT")then Q=99999;return"Pool During Blooddrinker"end end;if n()then if y.BloodFury:IsCastable()and(y.DancingRuneWeapon:CooldownUp()and(not y.Blooddrinker:IsReady()or not y.Blooddrinker:IsAvailable()))then if m(y.BloodFury,nil)then Q=20572;return"blood_fury main 2"end end;if y.Berserking:IsCastable()then if m(y.Berserking,nil)then Q=26297;return"berserking main 4"end end;if y.ArcanePulse:IsCastable()and(E>=2 or g:Rune()<1 and g:RunicPowerDeficit()>60)then if m(y.ArcanePulse,nil,nil,not h:IsInRange(8))then Q=260364;return"arcane_pulse main 6"end end;if y.LightsJudgment:IsCastable()and g:BuffUp(y.UnholyStrengthBuff)then if m(y.LightsJudgment,nil,nil,not h:IsSpellInRange(y.LightsJudgment))then Q=255647;return"lights_judgment main 8"end end;if y.AncestralCall:IsCastable()then if m(y.AncestralCall,nil)then Q=274738;return"ancestral_call main 10"end end;if y.Fireblood:IsCastable()then if m(y.Fireblood,nil)then Q=265221;return"fireblood main 12"end end;if y.BagofTricks:IsCastable()then if m(y.BagofTricks,nil,nil,not h:IsSpellInRange(y.BagofTricks))then Q=312411;return"bag_of_tricks main 14"end end end;if z.PotionofPhantomFire:IsReady()and O.Commons.Enabled.Potions and g:BuffUp(y.DancingRuneWeaponBuff)then if m(z.PotionofPhantomFire,nil,nil)then Q=37;return"potion main 16"end end;if O.Commons.Enabled.Trinkets and n()then local az=g:GetUseableTrinkets(A)if az then if m(az,nil,nil)then if az:ID()==TopTrinketID then Q=24;return"top trinket 1"elseif az:ID()==BotTrinketID then Q=30;return"top trinket 2"end end end end;if y.Blooddrinker:IsReady()and(g:BuffDown(y.DancingRuneWeaponBuff)and(M~=3 or g:BuffRemains(y.DeathsDueBuff)>7))then if m(y.Blooddrinker,nil,nil,not h:IsSpellInRange(y.Blooddrinker))then Q=206931;return"blooddrinker main 20"end end;if y.BloodBoil:IsCastable()and(y.BloodBoil:Charges()>=2 and(M==1 or g:BuffUp(y.DancingRuneWeaponBuff)))then if m(y.BloodBoil,nil,nil,not h:IsInMeleeRange(10))then Q=50842;return"blood_boil main 22"end end;if n()and y.RaiseDead:IsCastable()then if m(y.RaiseDead,nil,nil)then Q=46585;return"raise_dead main 24"end end;if y.DeathStrike:IsReady()and not H and not I and d.FilteredFightRemains(Enemies10y,"<",3)then if m(y.DeathStrike,nil,nil,not h:IsSpellInRange(y.DeathStrike))then Q=49998;return"death_strike main 26"end end;if true then local B=a6()if B then return B end end;if true then local B=a5()if B then return B end end;if l.CastAnnotated(y.Pool,false,"WAIT")then return"Wait/Pool Resources"end end end;local function aA()end;function ReturnSpell1()if Q==0 then return 0 else return Q end end;function ReturnSpellMO1()if R==0 then return 0 else return R end end;l.SetAPL(250,ay,aA)